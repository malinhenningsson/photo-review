[{"/Applications/Ampps/www/Javascript 2/photo-review/src/index.js":"1","/Applications/Ampps/www/Javascript 2/photo-review/src/App.js":"2","/Applications/Ampps/www/Javascript 2/photo-review/src/components/NotFound.js":"3","/Applications/Ampps/www/Javascript 2/photo-review/src/contexts/AuthContext.js":"4","/Applications/Ampps/www/Javascript 2/photo-review/src/firebase/index.js":"5","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Authentication/Logout.js":"6","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Authentication/ProtectedRoute.js":"7","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Authentication/Login.js":"8","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Authentication/Register.js":"9","/Applications/Ampps/www/Javascript 2/photo-review/src/components/upload/Upload.js":"10","/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/Album.js":"11","/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/Albums.js":"12","/Applications/Ampps/www/Javascript 2/photo-review/src/components/upload/PhotoUpload.js":"13","/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useGetAlbums.js":"14","/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useGetAlbum.js":"15","/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useUploadPhoto.js":"16","/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/EditAlbum.js":"17","/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/ReviewAlbum.js":"18","/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useDeletePhoto.js":"19","/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useDeleteAlbum.js":"20","/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/ReviewThanks.js":"21","/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useGetPhotosInAlbum.js":"22","/Applications/Ampps/www/Javascript 2/photo-review/src/components/LoadingSpinner.js":"23","/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/PhotoGrid.js":"24","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/Albums.js":"25","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/ReviewThanks.js":"26","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/Album.js":"27","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/ReviewAlbum.js":"28","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/PhotoGrid.js":"29","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/EditAlbum.js":"30","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Authentication/ForgotPassword.js":"31","/Applications/Ampps/www/Javascript 2/photo-review/src/components/authentication/ForgotPassword.js":"32","/Applications/Ampps/www/Javascript 2/photo-review/src/components/authentication/ProtectedRoute.js":"33","/Applications/Ampps/www/Javascript 2/photo-review/src/components/authentication/Login.js":"34","/Applications/Ampps/www/Javascript 2/photo-review/src/components/authentication/Register.js":"35","/Applications/Ampps/www/Javascript 2/photo-review/src/components/authentication/Logout.js":"36","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Navigation.js":"37","/Applications/Ampps/www/Javascript 2/photo-review/src/components/Frontpage.js":"38"},{"size":285,"mtime":1610614842526,"results":"39","hashOfConfig":"40"},{"size":2029,"mtime":1610638829599,"results":"41","hashOfConfig":"40"},{"size":760,"mtime":1610622140311,"results":"42","hashOfConfig":"40"},{"size":1303,"mtime":1610633256055,"results":"43","hashOfConfig":"40"},{"size":826,"mtime":1610640203378,"results":"44","hashOfConfig":"40"},{"size":725,"mtime":1610632429127,"results":"45","hashOfConfig":"40"},{"size":397,"mtime":1609855597112,"results":"46","hashOfConfig":"40"},{"size":1947,"mtime":1610612603160,"results":"47","hashOfConfig":"40"},{"size":2273,"mtime":1610633173272,"results":"48","hashOfConfig":"40"},{"size":3218,"mtime":1610628172661,"results":"49","hashOfConfig":"40"},{"size":8661,"mtime":1610612835326,"results":"50","hashOfConfig":"40"},{"size":4022,"mtime":1610630529630,"results":"51","hashOfConfig":"40"},{"size":2735,"mtime":1610633199077,"results":"52","hashOfConfig":"40"},{"size":975,"mtime":1610632770639,"results":"53","hashOfConfig":"40"},{"size":499,"mtime":1610633301695,"results":"54","hashOfConfig":"40"},{"size":1911,"mtime":1610450134925,"results":"55","hashOfConfig":"40"},{"size":4297,"mtime":1610628185672,"results":"56","hashOfConfig":"40"},{"size":5946,"mtime":1610632540040,"results":"57","hashOfConfig":"40"},{"size":2010,"mtime":1610633294035,"results":"58","hashOfConfig":"40"},{"size":1589,"mtime":1610632665509,"results":"59","hashOfConfig":"40"},{"size":921,"mtime":1610553356537,"results":"60","hashOfConfig":"40"},{"size":748,"mtime":1610644824037,"results":"61","hashOfConfig":"40"},{"size":340,"mtime":1610535005082,"results":"62","hashOfConfig":"40"},{"size":3719,"mtime":1610623066450,"results":"63","hashOfConfig":"40"},{"size":4022,"mtime":1610630529630,"results":"64","hashOfConfig":"40"},{"size":921,"mtime":1610553356537,"results":"65","hashOfConfig":"40"},{"size":8661,"mtime":1610612835326,"results":"66","hashOfConfig":"40"},{"size":5946,"mtime":1610632540040,"results":"67","hashOfConfig":"40"},{"size":3719,"mtime":1610623066450,"results":"68","hashOfConfig":"40"},{"size":4297,"mtime":1610628185672,"results":"69","hashOfConfig":"40"},{"size":2446,"mtime":1610644737440,"results":"70","hashOfConfig":"40"},{"size":2438,"mtime":1610632410675,"results":"71","hashOfConfig":"40"},{"size":397,"mtime":1609855597112,"results":"72","hashOfConfig":"40"},{"size":1947,"mtime":1610612603160,"results":"73","hashOfConfig":"40"},{"size":2358,"mtime":1610621688592,"results":"74","hashOfConfig":"40"},{"size":725,"mtime":1610632429127,"results":"75","hashOfConfig":"40"},{"size":2735,"mtime":1610637692300,"results":"76","hashOfConfig":"40"},{"size":1164,"mtime":1610636126305,"results":"77","hashOfConfig":"40"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"1b5vosf",{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"111"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"80"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"131"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"131"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"131"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"131"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"131"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"131"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"/Applications/Ampps/www/Javascript 2/photo-review/src/index.js",[],["158","159"],"/Applications/Ampps/www/Javascript 2/photo-review/src/App.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/NotFound.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/contexts/AuthContext.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/firebase/index.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Authentication/Logout.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Authentication/ProtectedRoute.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Authentication/Login.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Authentication/Register.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/upload/Upload.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/Album.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/Albums.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/upload/PhotoUpload.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useGetAlbums.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useGetAlbum.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useUploadPhoto.js",[],["160","161"],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/EditAlbum.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/ReviewAlbum.js",["162"],"import React, { useEffect, useState } from 'react'\nimport { useNavigate, useParams } from 'react-router-dom'\nimport firebase from 'firebase/app'\nimport { db } from '../../firebase'\nimport useGetAlbum from '../../hooks/useGetAlbum'\nimport useGetPhotosInAlbum from '../../hooks/useGetPhotosInAlbum'\nimport { Alert, Button, Container, Row } from 'react-bootstrap'\nimport {SRLWrapper} from \"simple-react-lightbox\"\nimport PhotoGrid from './PhotoGrid'\nimport LoadingSpinner from '../LoadingSpinner'\n\nconst ReviewAlbum = () => {\n    const [disabledBtn, setDisabledBtn] = useState(true);\n    const [error, setError] = useState(false);\n    const [likedPhotos, setLikedPhotos] = useState([]);\n    const [reviewedPhotos, setReviewedPhotos] = useState([]);\n\n    const navigate = useNavigate();\n    const { albumId } = useParams();\n    const { album } = useGetAlbum(albumId);\n    const { photos, loading } = useGetPhotosInAlbum(albumId)\n\n    useEffect(() => {\n        // Get photos and add to a review array\n        async function getPhotos() {\n            const photoList = await Promise.all(\n                photos.map(photo => {\n                    return {\n                        id: photo.id, \n                        like: undefined\n                    }\n                })\n            );\n            setReviewedPhotos(photoList);\n        };\n        getPhotos();\n    }, [photos]);\n\n    useEffect(() => {\n        // Update array with liked photos\n        let likedArray = reviewedPhotos.filter(photo => {\n            return photo.like === true\n        });\n        setLikedPhotos(likedArray);\n\n        // Check if all photos have been reviewed, if true set disabled button to false\n        let result = reviewedPhotos.every(photo => photo.like !== undefined);\n        if (result === false) {\n            setDisabledBtn(true);\n            return;\n        } else if (result === true) {\n            setDisabledBtn(false);\n        };\n    }, [reviewedPhotos]);\n\n    const handleSendReview = async () => {\n        console.log('sent review', reviewedPhotos);\n        const title = `${album.title}-${Date.now()}`;\n\n        setError(false);\n\n        try {\n            const docRef = await db.collection('albums').add({\n                title,\n                owner: album.owner\n            });\n\n            await likedPhotos.forEach(photo => {\n                db.collection('images').doc(photo.id).update({\n                    album: firebase.firestore.FieldValue.arrayUnion(db.collection('albums').doc(docRef.id))\n                })\n            })\n\n            navigate(`/review/thanks`);\n        } catch (err) {\n            setError(err.message);\n        }\n    };\n\n    const toggleThumbs = (id, reaction) => {\n        let card = document.getElementById(id);\n        if (reaction === true) {\n            card.getElementsByClassName('thumbs-up')[0].classList.add('thumb-active');\n            card.getElementsByClassName('thumbs-down')[0].classList.remove('thumb-active');\n        } else if (reaction === false) {\n            card.getElementsByClassName('thumbs-down')[0].classList.add('thumb-active');\n            card.getElementsByClassName('thumbs-up')[0].classList.remove('thumb-active');\n        };\n    };\n\n    const updatePhotoReaction = (photo, reaction) => {\n        // Map over reviewed photos and update like reaction\n        let updatedArray = reviewedPhotos.map(item => {\n            if (item.id === photo.id) {\n                return {\n                    id: item.id,\n                    like: reaction\n                }\n            } else {\n                return item;\n            };\n        });\n        setReviewedPhotos(updatedArray);\n        toggleThumbs(photo.id, reaction);\n    };\n\n    return (\n        <>\n            <header>\n                <h1 className=\"text-center\">Review for: {album && album.title}</h1>\n                <p className=\"text-center mb-2\">{album && album.description}</p>\n            </header>\n            <Container fluid className=\"px-4 mt-4 mb-5\">\n\n                <SRLWrapper>\n                    <Row className=\"justify-content-md-center my-4\">\n                        {\n                            loading\n                                ? (\n                                    <LoadingSpinner />\n                                )\n                                : (\n                                    photos.map(photo => (\n                                        <PhotoGrid \n                                            photo={photo} \n                                            albumId={albumId} \n                                            updatePhotoReaction={updatePhotoReaction} \n                                            key={photo.id} \n                                            />\n                                    ))\n                                )  \n                        }\n                    </Row>\n                </SRLWrapper>\n\n                {\n                    reviewedPhotos && likedPhotos.length > 0 && (\n                        <div className=\"text-center mt-3\">\n                            <p>Liked photos: {likedPhotos.length} / {photos.length}</p>\n                            <div className=\"d-flex justify-content-center\">\n                                <button \n                                    disabled={disabledBtn} \n                                    className=\"btn btn-standard\" \n                                    onClick={handleSendReview}>\n                                        Send Review\n                                </button>\n                            </div>\n                            {\n                                error && (\n                                    <Alert variant=\"danger\">{error}</Alert>\n                                )\n                            }\n                        </div>\n                    )\n                }\n            </Container>\n        </>\n    )\n};\n\nexport default ReviewAlbum\n","/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useDeletePhoto.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useDeleteAlbum.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/ReviewThanks.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/hooks/useGetPhotosInAlbum.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/LoadingSpinner.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/albums/PhotoGrid.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/Albums.js",[],["163","164"],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/ReviewThanks.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/Album.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/ReviewAlbum.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/PhotoGrid.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Albums/EditAlbum.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Authentication/ForgotPassword.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/authentication/ForgotPassword.js",["165"],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/authentication/ProtectedRoute.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/authentication/Login.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/authentication/Register.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/authentication/Logout.js",["166"],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Navigation.js",[],"/Applications/Ampps/www/Javascript 2/photo-review/src/components/Frontpage.js",[],{"ruleId":"167","replacedBy":"168"},{"ruleId":"169","replacedBy":"170"},{"ruleId":"167","replacedBy":"171"},{"ruleId":"169","replacedBy":"172"},{"ruleId":"173","severity":1,"message":"174","line":7,"column":17,"nodeType":"175","messageId":"176","endLine":7,"endColumn":23},{"ruleId":"167","replacedBy":"177"},{"ruleId":"169","replacedBy":"178"},{"ruleId":"173","severity":1,"message":"174","line":2,"column":26,"nodeType":"175","messageId":"176","endLine":2,"endColumn":32},{"ruleId":"179","severity":1,"message":"180","line":15,"column":8,"nodeType":"181","endLine":15,"endColumn":10,"suggestions":"182"},"no-native-reassign",["183"],"no-negated-in-lhs",["184"],["183"],["184"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar",["183"],["184"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'logout' and 'navigate'. Either include them or remove the dependency array.","ArrayExpression",["185"],"no-global-assign","no-unsafe-negation",{"desc":"186","fix":"187"},"Update the dependencies array to be: [logout, navigate]",{"range":"188","text":"189"},[417,419],"[logout, navigate]"]